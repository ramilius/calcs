<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>$page_name</title>
        <link rel="stylesheet" href="css/bootstrap.min.css" />
        <link rel="stylesheet" href="css/index.css" />
        <link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>
    </head>
    
    <body>
        <div class="wrapper">
            <header>
                <div class='header_top_row row'>
                    <div class='col-xs-2 right_icon text-center'>
                        <i class='glyphicon glyphicon-chevron-left'></i>
                    </div>
                    <div class='col-xs-20 text-center'>Расчет гидробаланса</div>
                    <div class='col-xs-2 right_icon text-center'>
                        <i class='glyphicon glyphicon-floppy-save'></i>
                    </div>
                </div>
                <div class='header_botttom_row'>
                    <ul>
                        <li class='active'>Рассчет</li>
                        <li>Информация</li>
                    </ul>
                </div>
            </header>
            
            <main>
			
				<script>

					function calculation() {
					var 
						 
					id1 = Number(document.getElementById('id1').value),
					id2 = Number(document.getElementById('id2').value),
					id3 = Number(document.getElementById('id3').value),
					id4 = Number(document.getElementById('id4').value),
					id5 = Number(document.getElementById('id5').value),
					id6 = Number(document.getElementById('id6').value),
					id7 = Number(document.getElementById('id7').value),
					id8 = Number(document.getElementById('id8').value),
					id9 = Number(document.getElementById('id9').value),
					id10 = Number(document.getElementById('id10').value),
					id11 = Number(document.getElementById('id11').value),
					id12 = Number(document.getElementById('id12').value),
					id13 = Number(document.getElementById('id13').value),
					
					text,
					Fpotr = 0,
					Fpote = 0,
					Ppote = 0,
					Dodiur = 0,
					Ntemp = 0,
					Nbrth = 0,
					Hydro = 0,
					result;
					
					//Физ.потери
					if(id2 < 65){
						Fpotr = 30 * id1;
					}
					if((id2 >= 65)&&(id2 < 75)){
						Fpotr = 25 * id1;
					}
					if(id2 > 75){
						Fpotr = 20 * id1;
					}
					Fpote = (Fpotr/100) * 40;	
					
					//Дол.диурез
					Dodiur = id1 * 20;
					
					//Пат.потери//
					
					//на темп-ре
					if(id3 > 37.4){
						Ntemp = Math.floor(id3 - 36.5);
						if(Ntemp > 5){
							Ntemp = 5;
						}
						Ppote = Ppote + Ntemp * 3 * id1;
					}
					
					//на дыхании
					if(id4 > 24.9){
						Nbrth = Math.floor((id4 - 15)/10);
						if(Nbrth > 5){
							Nbrth = 5;
						}
						Ppote = Ppote + Nbrth * 10 * id1;
					}
					
					//на ИВЛ	
					Ppote = Ppote + id11 * 1000;
					
					//на операции
					Ppote = Ppote + id12 * id1 * id13;
					
					//остальное
					Ppote = Ppote + id8 + id9 + id10;
							
				    Hydro = id6 + id7 - id5 - Fpote - Ppote;
					
					result = 'Гидробаланс: ' + Hydro + ' мл.' + 'Физиологическая потребность: ' + Fpotr + ' мл/сут ';
					text = 'Должный диурез: ' + Dodiur + ' мл/сут.' + 'Физиологические потери: ' + Fpote + ' мл/сут';   
					
					if(id12 != 0){
						if(id13 == 0){
							result = 'Пожалуйста, введите продолжительность операции';
							text = '';
						}
						else{
							result = 'Гидробаланс: ' + Hydro + ' мл.' + 'Физиологическая потребность: ' + Fpotr + ' мл/сут ';
							text = 'Должный диурез: ' + Dodiur + ' мл/сут.' + 'Физиологические потери: ' + Fpote + ' мл/сут';  	
						}
					}
			
					document.getElementById('result-score').innerHTML = result;
					document.getElementById('result-text').innerHTML = text;
					
					}
									
					function reset() {
					document.getElementById('result-score').innerHTML  = 'Результат';
					document.getElementById('result-text').innerHTML  = 'Оценка';
					document.getElementById('id1').value = '';
					document.getElementById('id2').value = '';
					document.getElementById('id3').value = '';
					document.getElementById('id4').value = '';
					document.getElementById('id5').value = '';
					document.getElementById('id6').value = '';
					document.getElementById('id7').value = '';
					document.getElementById('id8').value = '';
					document.getElementById('id9').value = '';
					document.getElementById('id10').value = '';
					document.getElementById('id11').value = 0;
					document.getElementById('id12').value = 0;
					document.getElementById('id13').value = 0;
					}
					
				</script>
				
				<div class='input_wrapper'>
                    <label for='id1'>Масса тела, кг*</label>
                    <input name="id1" id="id1" min="0" type="number" value="" />
                </div>	
				<div class='input_wrapper'>
                    <label for='id2'>Возраст, лет*</label>
                    <input name="id2" id="id2" min="0" type="number" value="" />
                </div>	
				<div class='input_wrapper'>
                    <label for='id3'>Температура тела, oC*</label>
                    <input name="id3" id="id3" min="0" type="number" value="" />
                </div>	
				<div class='input_wrapper'>
                    <label for='id4'>Частота дыхания, в мин*</label>
                    <input name="id4" id="id4" min="0" type="number" value="" />
                </div>	
				<div class='input_wrapper'>
                    <label for='id5'>Диурез, мл/сутки*</label>
                    <input name="id5" id="id5" min="0" type="number" value="" />
                </div>	
				<div class='input_wrapper'>
                    <label for='id6'>Инфузия, мл/сутки</label>
                    <input name="id6" id="id6" min="0" type="number" value="" />
                </div>	
				<div class='input_wrapper'>
                    <label for='id7'>Энтерально, мл/сутки</label>
                    <input name="id7" id="id7" min="0" type="number" value="" />
                </div>	
				<div class='input_wrapper'>
                    <label for='id8'>Рвота, мл/сутки</label>
                    <input name="id8" id="id8" min="0" type="number" value="" />
                </div>	
				<div class='input_wrapper'>
                    <label for='id9'>Дренажи, зонды, мл/сутки</label>
                    <input name="id9" id="id9" min="0" type="number" value="" />
                </div>	
				<div class='input_wrapper'>
                    <label for='id10'>Другие потери, мл/сутки</label>
                    <input name="id10" id="id10" min="0" type="number" value="" />
                </div>	
				<div class='select_wrapper'>
                    <label for='select_1'>Физиологическое дыхание или физиологичная ИВЛ с согреванием и увлажнением газовой смеси</label>
                    <select name='select_1' id='id11'>
                        <option value='1'>Нет</option>
                        <option value='0'>Да</option>
                    </select>
                </div>
				<div class='select_wrapper'>
                    <label for='select_2'>Интраоперационные потери</label>
                    <select name='select_2' id='id12'>
                        <option value='0'>Нет</option>
                        <option value='2'>Мнимальная травматизация (паховая грыжа, флебэктомия ,лапароскопические операции</option>
						<option value='4'>Средняя травматизация (хотецистэктомия, апмутация)</option>
						<option value='6'>Тяжелая травматизация (кишечная непроходимость, резекция желудка)</option>
                    </select>
                </div>
				<div class='input_wrapper'>
                    <label for='id13'>Длительность операции, часов</label>
                    <input name="id13" id="id13" min="0" type="number" value= 0 />
                </div>	
            </main>
        </div>
        <footer class='text-center'>
            <div class='result_title' id='result-score'>Результат</div>
            <div class='result' id='result-text'>Оценка</div>
            <div class='row button_row'>
                <div class='col-xs-12 button_wrapper'>
                    <button class='clear_button' onclick='reset()'>Сбросить</button>
                </div>
                <div class='col-xs-12 button_wrapper'>
                    <button class='result_button' onclick='calculation()'>Рассчитать</button>
                </div>
            </div>
        </footer>
    </body>
</html>
